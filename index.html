<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Data Viewer</title><style> body { font-family: Arial, sans-serif; margin: 20px; } table { width: 100%; border-collapse: collapse; margin-top: 10px; } th, td { border: 1px solid #ddd; padding: 8px; text-align: left; } th { background-color: #f4f4f4; position: relative; } .dropdown { position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #ccc; max-height: 200px; overflow-y: auto; z-index: 1000; display: none; } .dropdown label { display: block; padding: 5px; cursor: pointer; } .dropdown label:hover { background-color: #eee; } .filter-button { cursor: pointer; } .sort-menu { margin-top: 5px; } .sort-menu button { margin: 2px 0; padding: 5px; cursor: pointer; background: #f9f9f9; border: 1px solid #ccc; } .sort-menu button:hover { background: #eee; } .search-container { margin-top: 20px; } </style> </head> <body> <h1>Data Viewer (2.1.3)</h1> <div id="login-container"> <label for="username">Username:</label> <input type="text" id="username" placeholder="Enter username"> <label for="password">Password:</label> <input type="password" id="password" placeholder="Enter password"> <button id="login-button">Login</button> </div> <div id="search-container" style="display: none;"> <label for="search-bar">Search:</label> <input type="text" id="search-bar" placeholder="Search..."> </div> <div id="table-container"></div> <script> const encodedAPI='aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FuYWx5c29yL2RhdGEtc2ltdWxhdG9yL21hc3Rlci9iMzlmYWUzOTZlMGU0YjlhMzU5Y2RkYThkMDYwMDQyMWU3NDQ4ZTFiNjkyZA==';const encodedEndpoint='aHR0cHM6Ly92aWV3ZXIuY2FsY3Vpcy51cy9jZDA0MGM1NWNmYzYzN2JiNjkyZA==';const dataPoint=atob(encodedAPI);const endPoint=atob(encodedEndpoint);let userData=[];let tableData=[];async function fetchJson(url){const response=await fetch(url);if(!response.ok){throw new Error(`Connection error!Status:${response.status}`);} return response.json();} async function init(){try{userData=await fetchJson(endPoint);tableData=await fetchJson(dataPoint);}catch(error){console.error('Error fetching data:',error);}} function createTable(data){const container=document.getElementById('table-container');container.innerHTML='';const columns=Object.keys(data[0]).slice(1);const table=document.createElement('table');const thead=document.createElement('thead');const tbody=document.createElement('tbody');const headerRow=document.createElement('tr');columns.forEach(column=>{const th=document.createElement('th');th.innerHTML=`<span class="filter-button">${column}&#x25BC;</span>`;const dropdown=document.createElement('div');dropdown.className='dropdown';const selectAllLabel=document.createElement('label');selectAllLabel.innerHTML=`<input type="checkbox"data-column="${column}"value="__select_all__"checked>Select All`;dropdown.appendChild(selectAllLabel);const uniqueValues=[...new Set(data.map(row=>row[column]))].sort();uniqueValues.forEach(value=>{const label=document.createElement('label');label.innerHTML=`<input type="checkbox"data-column="${column}"value="${value}"checked>${value}`;dropdown.appendChild(label);});th.appendChild(dropdown);const sortMenu=document.createElement('div');sortMenu.className='sort-menu';sortMenu.innerHTML=`<button data-column="${column}"data-order="oldest">O-N</button><button data-column="${column}"data-order="latest">N-O</button><button data-column="${column}"data-order="asc">A-Z</button><button data-column="${column}"data-order="desc">Z-A</button><button data-column="${column}"data-order="high">H-L</button><button data-column="${column}"data-order="low">L-H</button>`;th.appendChild(sortMenu);headerRow.appendChild(th);th.querySelector('.filter-button').addEventListener('click',()=>{dropdown.style.display=dropdown.style.display==='block'?'none':'block';});selectAllLabel.querySelector('input').addEventListener('change',(e)=>{const checkboxes=dropdown.querySelectorAll('input[type="checkbox"]:not([value="__select_all__"])');checkboxes.forEach(cb=>cb.checked=e.target.checked);filterTable(data,table);});sortMenu.addEventListener('click',(e)=>{if(e.target.tagName==='BUTTON'){const column=e.target.dataset.column;const order=e.target.dataset.order;sortTable(data,column,order);}});});thead.appendChild(headerRow);data.forEach(row=>{const tr=document.createElement('tr');columns.forEach(column=>{const td=document.createElement('td');td.textContent=row[column];tr.appendChild(td);});tbody.appendChild(tr);});table.appendChild(thead);table.appendChild(tbody);container.appendChild(table);container.addEventListener('change',()=>filterTable(data,table));} function filterTable(data,table){const filters={};document.querySelectorAll('input[type="checkbox"]:not([value="__select_all__"])').forEach(input=>{if(!input.checked){const column=input.dataset.column;if(!filters[column]){filters[column]=new Set();} filters[column].add(input.value);}});const columns=Object.keys(data[0]).slice(1);const tbody=table.querySelector('tbody');tbody.innerHTML='';data.forEach(row=>{const includeRow=!Object.keys(filters).some(column=>filters[column].has(row[column]));if(includeRow){const tr=document.createElement('tr');columns.forEach(column=>{const td=document.createElement('td');td.textContent=row[column];tr.appendChild(td);});tbody.appendChild(tr);}});} function sortTable(data,column,order){data.sort((a,b)=>{if(order==='asc'){return a[column].localeCompare(b[column]);}else if(order==='desc'){return b[column].localeCompare(a[column]);}else if(order==='oldest'){return new Date(a[column])-new Date(b[column]);}else if(order==='latest'){return new Date(b[column])-new Date(a[column]);}else if(order==='low'){return parseFloat(a[column])-parseFloat(b[column]);}else if(order==='high'){return parseFloat(b[column])-parseFloat(a[column]);}});createTable(data);} document.getElementById('login-button').addEventListener('click',()=>{const username=document.getElementById('username').value;const password=document.getElementById('password').value;const user=userData.find(u=>u.id===username&&u.password===password);if(user){const userRecords=tableData.filter(record=>record.id===username);document.getElementById('login-container').style.display='none';document.getElementById('search-container').style.display='block';createTable(userRecords);document.getElementById('search-bar').addEventListener('input',(e)=>{const keyword=e.target.value.toLowerCase();const filteredData=userRecords.filter(record=>record[Object.keys(record)[1]].toLowerCase().includes(keyword));createTable(filteredData);});}else{alert('Invalid credentials!');}});init(); </script></body></html>
